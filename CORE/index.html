<html>
    <body>
        <div id="title">MAIN</div>
        <div id="lMainState">x</div>
        <button id='lMainOn'>On</button>
        <button id='lMainOff'>Off</button>
        <div class="slidecontainer">
          <input type="range" min="1" max="255" value="255" class="slider" id="lMainB">
        </div>

        <div id="title">OFFICE</div>
        <div id="lOfficeState">x</div>
        <button id='lOfficeOn'>On</button>
        <button id='lOfficeOff'>Off</button>
        <div class="slidecontainer">
          <input type="range" min="1" max="255" value="255" class="slider" id="lOfficeB">
        </div>

        <div id="title">BED</div>
        <div id="lBedState">x</div>
        <button id='lBedOn'>On</button>
        <button id='lBedOff'>Off</button>
        <div class="slidecontainer">
          <input type="range" min="1" max="255" value="255" class="slider" id="lBedB">
        </div>

        <script src="/socket.io/socket.io.js"></script> <!-- automatically added -->
        <script>
            function data(key, info)
            {
               this.key = key;
               this.info = info;
            }
            
            var socket = io();
            socket.on('state', function(data){ 
                document.getElementById("lMainB").value = data.lMainB;
                document.getElementById("lOfficeB").value = data.lOfficeB;
                document.getElementById("lBedB").value = data.lBedB;

                document.getElementById("lMainState").innerHTML = data.lMain;
                document.getElementById("lOfficeState").innerHTML = data.lOffice;
                document.getElementById("lBedState").innerHTML = data.lBed;
            });

            document.getElementById("lMainOn").onclick = function() { socket.emit('lightToggle', new data('main', true)); }
            document.getElementById("lMainOff").onclick = function() { socket.emit('lightToggle', new data('main', false)); }
            document.getElementById("lMainB").oninput = function() { socket.emit('lightBrightness', new data('main', this.value)); }
            document.getElementById("lOfficeOn").onclick = function() { socket.emit('lightToggle', new data('office', true)); }
            document.getElementById("lOfficeOff").onclick = function() { socket.emit('lightToggle', new data('office', false)); }
            document.getElementById("lOfficeB").oninput = function() { socket.emit('lightBrightness', new data('office', this.value)); }
            document.getElementById("lBedOn").onclick = function() { socket.emit('lightToggle', new data('bed', true)); }
            document.getElementById("lBedOff").onclick = function() { socket.emit('lightToggle', new data('bed', false)); }
            document.getElementById("lBedB").oninput = function() { socket.emit('lightBrightness', new data('bed', this.value)); }
        </script>
    </body>
</html>